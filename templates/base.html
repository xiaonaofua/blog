<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ title }}</title>
    <link rel="stylesheet" href="{{ base_path }}static/css/style.css">
</head>
<body>
    <header>
        <nav>
            <a href="https://co2sou.github.io/blog/"><h1>æˆ‘çš„åšå®¢</h1></a>
            <div class="nav-links">
                <div class="dropdown">
                    <button class="dropdown-toggle" type="button" aria-expanded="false">
                        ğŸš€ æˆ‘çš„é …ç›® <span class="dropdown-arrow">â–¼</span>
                    </button>
                    <ul class="dropdown-menu">
                        <li><a href="https://co2sou.github.io/aws-english" target="_blank" rel="noopener">ğŸŒ AWSè‹±èªæŒ‡å—</a></li>
                        <li><a href="https://co2sou.github.io/exchangeRates/" target="_blank" rel="noopener">ğŸ’± åŒ¯ç‡è½‰æ›å™¨</a></li>
                        <li><a href="https://co2sou.github.io/hao123/" target="_blank" rel="noopener">ğŸ§­ ç¶²å€å°èˆª</a></li>
                        <li><a href="https://co2sou.github.io/wordList/" target="_blank" rel="noopener">ğŸ“š è©å½™å­¸ç¿’</a></li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>
    <main>
        {{ content }}
    </main>
    <footer>
        <p>&copy; 2025 <a href="https://co2sou.github.io/blog/">æˆ‘çš„åšå®¢</a></p>
    </footer>

    <script>
        // æ”¹è¿›çš„ä¸‹æ‹‰èœå•åŠŸèƒ½
        (function() {
            'use strict';
            
            function initDropdown() {
                const dropdown = document.querySelector('.dropdown');
                const toggle = document.querySelector('.dropdown-toggle');
                const menu = document.querySelector('.dropdown-menu');
                
                if (!dropdown || !toggle || !menu) {
                    console.warn('Dropdown elements not found');
                    return;
                }
                
                let isOpen = false;
                
                // åˆ‡æ¢ä¸‹æ‹‰èœå•
                function toggleDropdown() {
                    isOpen = !isOpen;
                    dropdown.classList.toggle('show', isOpen);
                    toggle.setAttribute('aria-expanded', isOpen.toString());
                }
                
                // å…³é—­ä¸‹æ‹‰èœå•
                function closeDropdown() {
                    if (isOpen) {
                        isOpen = false;
                        dropdown.classList.remove('show');
                        toggle.setAttribute('aria-expanded', 'false');
                    }
                }
                
                // ç‚¹å‡»åˆ‡æ¢æŒ‰é’®
                toggle.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    toggleDropdown();
                });
                
                // ç‚¹å‡»èœå•é¡¹
                menu.addEventListener('click', function(e) {
                    if (e.target.tagName === 'A') {
                        // ç»™ç”¨æˆ·ä¸€ç‚¹æ—¶é—´çœ‹åˆ°ç‚¹å‡»æ•ˆæœ
                        setTimeout(closeDropdown, 100);
                    }
                });
                
                // ç‚¹å‡»å…¶ä»–åœ°æ–¹å…³é—­
                document.addEventListener('click', function(e) {
                    if (!dropdown.contains(e.target)) {
                        closeDropdown();
                    }
                });
                
                // ESCé”®å…³é—­
                document.addEventListener('keydown', function(e) {
                    if (e.key === 'Escape' && isOpen) {
                        closeDropdown();
                    }
                });
                
                // é˜²æ­¢èœå•å†…çš„ç‚¹å‡»äº‹ä»¶å†’æ³¡
                menu.addEventListener('click', function(e) {
                    e.stopPropagation();
                });
            }
            
            // ç¡®ä¿DOMåŠ è½½å®Œæˆåå†åˆå§‹åŒ–
            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', initDropdown);
            } else {
                initDropdown();
            }
        })();
    </script>
</body>
</html>
